// SPDX-License-Identifier: GPL-2.0+
/*
 * Copyright (c) 2024 MediaTek Inc.
 *
 */

/dts-v1/;
#include <dt-bindings/interrupt-controller/arm-gic.h>
#include <dt-bindings/interrupt-controller/irq.h>
#include <dt-bindings/phy/phy.h>

/ {
	compatible = "mediatek,mt8189";
	interrupt-parent = <&gic>;
	#address-cells = <2>;
	#size-cells = <2>;

	cpus {
		#address-cells = <1>;
		#size-cells = <0>;

		cpu0: cpu@0 {
			device_type = "cpu";
			compatible = "arm,cortex-a55";
			reg = <0x000>;
			enable-method = "psci";
			clock-frequency = <2000000000>;
			capacity-dmips-mhz = <282>;
			#cooling-cells = <2>;
		};

		cpu1: cpu@100 {
			device_type = "cpu";
			compatible = "arm,cortex-a55";
			reg = <0x100>;
			enable-method = "psci";
			clock-frequency = <2000000000>;
			capacity-dmips-mhz = <282>;
			#cooling-cells = <2>;
		};

		cpu2: cpu@200 {
			device_type = "cpu";
			compatible = "arm,cortex-a55";
			reg = <0x200>;
			enable-method = "psci";
			clock-frequency = <2000000000>;
			capacity-dmips-mhz = <282>;
			#cooling-cells = <2>;
		};

		cpu3: cpu@300 {
			device_type = "cpu";
			compatible = "arm,cortex-a55";
			reg = <0x300>;
			enable-method = "psci";
			clock-frequency = <2000000000>;
			capacity-dmips-mhz = <282>;
			#cooling-cells = <2>;
		};

		cpu4: cpu@400 {
			device_type = "cpu";
			compatible = "arm,cortex-a55";
			reg = <0x400>;
			enable-method = "psci";
			clock-frequency = <2000000000>;
			capacity-dmips-mhz = <282>;
			#cooling-cells = <2>;
		};

		cpu5: cpu@500 {
			device_type = "cpu";
			compatible = "arm,cortex-a55";
			reg = <0x500>;
			enable-method = "psci";
			clock-frequency = <2000000000>;
			capacity-dmips-mhz = <282>;
			#cooling-cells = <2>;
		};

		cpu6: cpu@600 {
			device_type = "cpu";
			compatible = "arm,cortex-a78";
			reg = <0x600>;
			enable-method = "psci";
			clock-frequency = <2600000000>;
			capacity-dmips-mhz = <1024>;
			#cooling-cells = <2>;
		};

		cpu7: cpu@700 {
			device_type = "cpu";
			compatible = "arm,cortex-a78";
			reg = <0x700>;
			enable-method = "psci";
			clock-frequency = <2600000000>;
			capacity-dmips-mhz = <1024>;
			#cooling-cells = <2>;
		};

		cpu-map {
			cluster0 {
				core0 {
					cpu = <&cpu0>;
				};

				core1 {
					cpu = <&cpu1>;
				};

				core2 {
					cpu = <&cpu2>;
				};

				core3 {
					cpu = <&cpu3>;
				};

				core4 {
					cpu = <&cpu4>;
				};

				core5 {
					cpu = <&cpu5>;
				};

				core6 {
					cpu = <&cpu6>;
				};

				core7 {
					cpu = <&cpu7>;
				};
			};
		};
	};

	clk13m: oscillator-13m {
		compatible = "fixed-clock";
		#clock-cells = <0>;
		clock-frequency = <13000000>;
		clock-output-names = "clk13m";
	};

	clk26m: oscillator-26m {
		compatible = "fixed-clock";
		#clock-cells = <0>;
		clock-frequency = <26000000>;
		clock-output-names = "clk26m";
	};

	clk32k: oscillator-32k {
		compatible = "fixed-clock";
		#clock-cells = <0>;
		clock-frequency = <32768>;
		clock-output-names = "clk32k";
	};

	pmu-a55 {
		compatible = "arm,cortex-a55-pmu";
		interrupt-parent = <&gic>;
		interrupts = <GIC_PPI 7 IRQ_TYPE_LEVEL_HIGH &ppi_cluster0>;
	};

	pmu-a78 {
		compatible = "arm,cortex-a78-pmu";
		interrupt-parent = <&gic>;
		interrupts = <GIC_PPI 7 IRQ_TYPE_LEVEL_HIGH &ppi_cluster1>;
	};

	psci {
		compatible = "arm,psci-1.0";
		method = "smc";
	};

	timer: timer {
		compatible = "arm,armv8-timer";
		interrupt-parent = <&gic>;
		interrupts = <GIC_PPI 13 IRQ_TYPE_LEVEL_HIGH 0>,
			     <GIC_PPI 14 IRQ_TYPE_LEVEL_HIGH 0>,
			     <GIC_PPI 11 IRQ_TYPE_LEVEL_HIGH 0>,
			     <GIC_PPI 10 IRQ_TYPE_LEVEL_HIGH 0>;
		clock-frequency = <13000000>;
	};

	soc {
		#address-cells = <2>;
		#size-cells = <2>;
		compatible = "simple-bus";
		ranges;

		gic: interrupt-controller@c000000 {
			compatible = "arm,gic-v3";
			#interrupt-cells = <4>;
			#redistributor-regions = <1>;
			interrupt-parent = <&gic>;
			interrupt-controller;
			reg = <0 0x0c000000 0 0x40000>,
			      <0 0x0c040000 0 0x200000>;
			interrupts = <GIC_PPI 9 IRQ_TYPE_LEVEL_HIGH 0>;

			ppi-partitions {
				ppi_cluster0: interrupt-partition-0 {
					affinity = <&cpu0 &cpu1 &cpu2 &cpu3 &cpu4 &cpu5>;
				};

				ppi_cluster1: interrupt-partition-1 {
					affinity = <&cpu6 &cpu7>;
				};
			};
		};

		pio: pinctrl@10005000 {
			compatible = "mediatek,mt8189-pinctrl";
			reg = <0 0x10005000 0 0x1000>,
			      <0 0x11b50000 0 0x1000>,
			      <0 0x11c50000 0 0x1000>,
			      <0 0x11c60000 0 0x1000>,
			      <0 0x11d20000 0 0x1000>,
			      <0 0x11d30000 0 0x1000>,
			      <0 0x11d40000 0 0x1000>,
			      <0 0x11e20000 0 0x1000>,
			      <0 0x11e30000 0 0x1000>,
			      <0 0x11f20000 0 0x1000>;
			reg-names = "gpio_base",
						"iocfg_lm_base",
						"iocfg_rb0_base",
						"iocfg_rb1_base",
						"iocfg_bm0_base",
						"iocfg_bm1_base",
						"iocfg_bm2_base",
						"iocfg_lt0_base",
						"iocfg_lt1_base",
						"iocfg_rt_base";
			gpio-controller;
			#gpio-cells = <2>;
			gpio-ranges = <&pio 0 0 182>;
			interrupt-controller;
			#interrupt-cells = <2>;
			mediatek,eint = <&eint>;
		};

		uart0: serial@11001000 {
			compatible = "mediatek,mt6577-uart";
			reg = <0 0x11001000 0 0x1000>;
			interrupts = <GIC_SPI 397 IRQ_TYPE_LEVEL_HIGH 0>;
			clocks = <&clk26m>, <&clk26m>;
			clock-names = "baud", "bus";
			status = "disabled";
		};

		mmc0: mmc@11230000 {
			compatible = "mediatek,mt8183-mmc";
			reg = <0 0x11230000 0 0x10000>,
			      <0 0x11e70000 0 0x1000>;
			interrupts = <GIC_SPI 387 IRQ_TYPE_LEVEL_HIGH 0>;
			clocks = <&clk26m>,
				 <&clk26m>,
				 <&clk26m>,
				 <&clk26m>;
			clock-names = "source", "hclk", "source_cg", "crypto_clk";
			status = "disabled";
		};

		eint: apirq@11ce0000 {
			compatible = "mediatek,mtk-eint";
			reg = <0 0x11ce0000 0 0x1000>,
			      <0 0x11de0000 0 0x1000>,
			      <0 0x11e60000 0 0x1000>,
			      <0 0x1c01e000 0 0x1000>,
			      <0 0x11f00000 0 0x1000>;
			reg-name = "eint-e", "eint-s", "eint-w", "eint-c", "eint-n";
			interrupts = <GIC_SPI 239 IRQ_TYPE_LEVEL_HIGH 0>;
			mediatek,instance-num = <5>;
			mediatek,total-pin-number = <210>;
			mediatek,pins = <0 0 0 1>,<1 0 1 1>,<2 0 2 1>,<3 0 3 1>,
					<4 0 4 1>,<5 0 5 1>,<6 0 6 1>,<7 0 7 1>,
					<8 0 8 1>,<9 0 9 1>,<10 0 10 1>,<11 0 11 1>,
					<12 1 0 1>,<13 1 1 1>,<14 1 2 1>,<15 1 3 1>,
					<16 1 4 1>,<17 1 5 1>,<18 0 12 1>,<19 0 13 1>,
					<20 0 14 1>,<21 0 15 1>,<22 0 16 1>,<23 0 17 1>,
					<24 0 18 1>,<25 2 0 1>,<26 2 1 1>,<27 1 6 1>,
					<28 1 7 1>,<29 2 2 1>,<30 1 8 1>,<31 1 9 1>,
					<32 1 10 1>,<33 1 11 1>,<34 1 12 1>,<35 1 13 1>,
					<36 1 14 1>,<37 1 15 1>,<38 1 16 1>,<39 1 17 1>,
					<40 1 18 1>,<41 1 19 1>,<42 1 20 1>,<43 1 21 1>,
					<44 0 19 1>,<45 0 20 1>,<46 0 21 1>,<47 0 22 1>,
					<48 2 3 1>,<49 2 4 1>,<50 2 5 1>,<51 0 23 1>,
					<52 0 24 1>,<53 0 25 1>,<54 0 26 1>,<55 2 6 1>,
					<56 2 7 1>,<57 1 22 1>,<58 1 23 1>,<59 1 24 1>,
					<60 1 25 1>,<61 1 26 1>,<62 1 27 1>,<63 1 28 1>,
					<64 1 29 1>,<65 0 27 1>,<66 0 28 1>,<67 0 29 1>,
					<68 0 30 1>,<69 1 30 1>,<70 1 31 1>,<71 1 32 1>,
					<72 1 33 1>,<73 1 34 1>,<74 1 35 1>,<75 1 36 1>,
					<76 1 37 1>,<77 0 31 1>,<78 0 32 1>,<79 0 33 1>,
					<80 0 34 1>,<81 1 38 1>,<82 1 39 1>,<83 1 40 1>,
					<84 0 35 1>,<85 0 36 1>,<86 0 37 1>,<87 0 38 1>,
					<88 2 8 1>,<89 2 9 1>,<90 2 10 1>,<91 2 11 1>,
					<92 2 12 1>,<93 2 13 1>,<94 2 14 1>,<95 2 15 1>,
					<96 2 16 1>,<97 2 17 1>,<98 2 18 1>,<99 2 19 1>,
					<100 2 20 1>,<101 2 21 1>,<102 2 22 1>,<103 0 39 1>,
					<104 0 40 1>,<105 0 41 1>,<106 0 42 1>,<107 0 43 1>,
					<108 0 44 1>,<109 0 45 1>,<110 0 46 1>,<111 0 47 1>,
					<112 0 48 0>,<113 0 49 1>,<114 0 50 0>,<115 1 41 1>,
					<116 1 42 1>,<117 1 43 1>,<118 1 44 1>,<119 1 45 1>,
					<120 1 46 1>,<121 1 47 1>,<122 1 48 1>,<123 1 49 1>,
					<124 1 50 1>,<125 1 51 1>,<126 1 52 1>,<127 1 53 1>,
					<128 1 54 1>,<129 1 55 1>,<130 1 56 1>,<131 1 57 1>,
					<132 1 58 1>,<133 1 59 1>,<134 1 60 1>,<135 1 61 1>,
					<136 1 62 1>,<137 1 63 1>,<138 1 64 1>,<139 1 65 1>,
					<140 1 66 1>,<141 1 67 1>,<142 1 68 1>,<143 1 69 1>,
					<144 1 70 1>,<145 1 71 1>,<146 1 72 1>,<147 1 73 1>,
					<148 1 74 1>,<149 1 75 1>,<150 1 76 1>,<151 1 77 1>,
					<152 1 78 1>,<153 1 79 1>,<154 1 80 1>,<155 1 81 1>,
					<156 2 23 1>,<157 2 24 1>,<158 2 25 1>,<159 4 0 1>,
					<160 2 26 1>,<161 2 27 1>,<162 2 28 1>,<163 4 1 1>,
					<164 2 29 1>,<165 2 30 1>,<166 4 2 1>,<167 2 31 0>,
					<168 1 82 1>,<169 1 83 1>,<170 1 84 1>,<171 1 85 0>,
					<172 1 86 1>,<173 1 87 0>,<174 4 3 1>,<175 4 4 1>,
					<176 4 5 1>,<177 4 6 1>,<178 4 7 1>,<179 4 8 1>,
					<180 2 32 1>,<181 2 33 0>,<182 3 0 1>,<183 3 1 1>,
					<184 3 2 1>,<185 3 3 1>,<186 3 4 1>,<187 3 5 1>,
					<188 3 6 1>,<189 3 7 1>,<190 3 8 1>,<191 3 9 1>,
					<192 3 10 1>,<193 3 11 1>,<194 3 12 1>,<195 3 13 1>,
					<196 3 14 1>,<197 3 15 1>,<198 3 16 1>,<199 3 17 1>,
					<200 3 18 1>,<201 3 19 1>,<202 3 20 1>,<203 3 21 1>,
					<204 3 22 1>,<205 3 23 1>,<206 3 24 1>,<207 3 25 1>,
					<208 3 26 1>,<209 3 27 1>;
		};

		watchdog: watchdog@1c00a000 {
			compatible = "mediatek,mt6589-wdt";
			reg = <0 0x1c00a000 0 0x100>;
			mediatek,disable-extrst;
			#reset-cells = <1>;
		};

		systimer: timer@1cc10000 {
			compatible = "mediatek,mt6765-timer";
			reg = <0 0x1cc10000 0 0x1000>;
			interrupts = <GIC_SPI 249 IRQ_TYPE_LEVEL_HIGH 0>;
			clocks = <&clk13m>;
		};
	};
};
